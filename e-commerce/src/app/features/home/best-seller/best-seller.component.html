<div class="p-4 lg:p-14">
  <!-- Header Section -->
  <div class="flex flex-wrap space-x-2 items-center mb-4">
    <p class="w-3 h-5 lg:w-4 lg:h-7 rounded-md bg-red-500"></p>
    <p class="text-red-500 font-bold uppercase text-sm lg:text-base">This Month</p>
  </div>

  <!-- Title and View All Button -->
  <div class="flex flex-wrap justify-between items-center mb-4">
    <div class="text-lg lg:text-2xl font-bold mb-2 lg:mb-4 text-center lg:text-left">
      Best Selling Products
    </div>
    <div>
      <a
        class="bg-red-500 text-white px-4 py-2 lg:px-10 lg:py-3 md:items-center rounded-sm font-normal text-sm lg:text-base"
        >View All</a
      >
    </div>
  </div>

  <!-- Product Carousel -->
  <p-carousel
    [value]="products"
    [numVisible]="getNumVisible()"
    [numScroll]="1"
    class="my-6"
    [showIndicators]="true"
    [showNavigators]="true"
  >
    <ng-template pTemplate="item" let-product>
      <!-- Product Card -->
      <div
        class="p-4 bg-white relative group hover:shadow-2xl transition-shadow duration-200 rounded-lg"
      >
        <!-- Product Image with Hover Icons -->
        <div class="relative text-center">
          <img
            [src]="product.image"
            alt="{{ product.name }}"
            class="w-full h-40 md:h-48 lg:h-56 object-cover rounded-lg bg-gray-200"
          />
          <div
            class="absolute top-2 right-8 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200"
          >
            <i
              class="pi pi-eye cursor-pointer text-black hover:text-gray-700"
              (click)="navigateToProductDetails(product)"
              title="View Details"
            ></i>
            <i
              class="pi pi-heart cursor-pointer text-red-500 hover:text-red-700"
              (click)="addToWishlist(product)"
              title="Add to Wishlist"
            ></i>
          </div>
        </div>

        <!-- Product Info -->
        <h3
          class="font-semibold text-left text-xs md:text-sm lg:text-base mt-2 w-full line-clamp-1 overflow-hidden text-ellipsis"
        >
          {{ product.name }}
        </h3>
        <div
          class="flex flex-wrap justify-start items-center py-1 text-xs lg:text-sm"
        >
          <span class="text-red-500 font-bold">
            {{ product.salePrice | currency }}
          </span>
          <span class="line-through text-gray-500 text-xs lg:text-sm px-2">
            {{ product.originalPrice | currency }}
          </span>
        </div>

        <p-rating
          [stars]="5"
          [readonly]="true"
          [cancel]="false"
          [(ngModel)]="product.rating"
          class="scale-75"
        ></p-rating>
        <span class="text-gray-500 text-xs lg:text-sm px-2">
          ({{ product.totalRatings }})
        </span>

        <!-- Add to Cart Button -->
        <div
          class="flex justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200 mt-4 w-full"
        >
          <button
            class="bg-black text-white px-4 py-2 lg:px-4 lg:py-2 rounded shadow w-full"
          >
            Add to cart
          </button>
        </div>
      </div>
    </ng-template>
  </p-carousel>
</div>
